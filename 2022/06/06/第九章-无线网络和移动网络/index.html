<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="拔丝地瓜">
    
    <title>
        
            第九章 无线网络和移动网络 |
        
        拔丝地瓜
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/favicon.jpg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.jpg","favicon":"/images/favicon.jpg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                拔丝地瓜
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">CATEGORIES</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">第九章 无线网络和移动网络</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">拔丝地瓜</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-06-06 11:29:13</span>
        <span class="mobile">2022-06-06 11:29</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="第九章-无线网络和移动网络"><a href="#第九章-无线网络和移动网络" class="headerlink" title="第九章 无线网络和移动网络"></a>第九章 无线网络和移动网络</h1><h2 id="9-1-无线局域网WLAN"><a href="#9-1-无线局域网WLAN" class="headerlink" title="9.1 无线局域网WLAN"></a>9.1 无线局域网WLAN</h2><h3 id="9-1-1-无线局域网的组成"><a href="#9-1-1-无线局域网的组成" class="headerlink" title="9.1.1 无线局域网的组成"></a>9.1.1 无线局域网的组成</h3><p>无线局域网可分为<strong>有固定基础设施的</strong>和<strong>无固定基础设施的</strong>两大类。“固定基础设施”是指预先建立起来的、能够覆盖一定地理范围的一批固定基站</p>
<h4 id="1-IEEE-802-11"><a href="#1-IEEE-802-11" class="headerlink" title="1. IEEE 802.11"></a>1. IEEE 802.11</h4><ul>
<li>对于第一类有固定基础设施的无线局域网，1997 年 IEEE 制定出无线局域网的协议标准 802.11[W-IEEE802.11]系列标准</li>
<li>802.11 是无线以太网的标准，它使用星形拓扑，其中心叫做<strong>接入点 AP</strong>（Access Point），在 MAC 层使用 <strong>CSMA&#x2F;CA 协议</strong></li>
<li>凡使用 802.11 系列协议的局域网又称为 <strong>Wi-Fi</strong>（Wireless-Fidelity，意思是“无线保真度”）</li>
<li>现在 Wi-Fi 实际上已经成为了无线局域网 WLAN 的代名词，但无线局域网和“保真度”实在没有什么关系</li>
<li>802.11 标准规定无线局域网的最小构件是<strong>基本服务集 BSS</strong>（Basic Service Set）<ul>
<li>一个基本服务集 BSS 包括一个基站和若干个移动站，一个站无论要和本 BSS 的站进行通信，还是要和其他 BSS 的站进行通信，都必须通过本 BSS 的基站</li>
</ul>
</li>
</ul>
<h3 id="9-1-2-802-11-局域网的物理层"><a href="#9-1-2-802-11-局域网的物理层" class="headerlink" title="9.1.2 802.11 局域网的物理层"></a>9.1.2 802.11 局域网的物理层</h3><h3 id="9-1-3-802-11-局域网的MAC层"><a href="#9-1-3-802-11-局域网的MAC层" class="headerlink" title="9.1.3 802.11 局域网的MAC层"></a>9.1.3 802.11 局域网的MAC层</h3><h4 id="1-CSMA-x2F-CA-协议"><a href="#1-CSMA-x2F-CA-协议" class="headerlink" title="1. CSMA&#x2F;CA 协议"></a>1. CSMA&#x2F;CA 协议</h4><ul>
<li><strong>在无线局域网中，仍然可以使用载波监听多址接入 CSMA</strong> , 即在发送帧之前先对传输媒体进行载波监听。若发现有其他站在发送帧，就推迟发送以免发生碰撞</li>
<li><strong>在无线局域网中，不能使用碰撞检测CD</strong> ，原因如下：<ul>
<li>由于无线信道的传输条件特殊，其信号强度的动态范围非常大，无线网卡上接收到的信号强度往往会远远小于发送信号的强度（可能相差百万倍）。<strong>如果要在无线网卡上实现碰撞检测CD ，对硬件的要求非常高</strong></li>
<li>即使能够在硬件上实现无线局域网的碰撞检测功能，但由于无线电波传播的特殊性（<strong>存在隐蔽站问题</strong>）， <strong>进行碰撞检测的意义也不大</strong></li>
</ul>
</li>
</ul>
<p><img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220223160858.png" alt="3.4.3.1"></p>
<ul>
<li><p><strong>802.11 无线局域网</strong>使用 CSMA&#x2F;CA 协议，在 CSMA 的基础上增加了一个<strong>碰撞避免 CA</strong> 功能，而不再实现碰撞检测功能</p>
</li>
<li><p>由于<strong>不可能避免所有的碰撞</strong>，并且<strong>无线信道误码率较高</strong>， 802.11 标准还使用了<strong>数据链路层确认机制（停止-等待协议）</strong> 来保证数据被正确接收</p>
</li>
<li><p>802.11 的 MAC 层标准定义了两种不同的媒体接入控制方式：</p>
<ul>
<li><p><strong>分布式协调功能 DCF</strong>（Distributed Coordination Function）。在 DCF 方式下，没有中心控制站点，每个站点使用 CSMA&#x2F;CA 协议通过争用信道来获取发送权，这是802.11 定义的默认方式</p>
</li>
<li><p><strong>点协调功能 PCF</strong>（Point Coordination Function）。PCF 方式使用集中控制的接入算法（一般在接入点AP 实现集中控制），是802.11 定义的可选方式，在实际中较少使用</p>
<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220223161435.png" alt="3.4.3.2" style="zoom:40%;" /></li>
</ul>
</li>
<li><p>802.11 标准规定，所有的<strong>站点必须在持续检测到信道空闲一段指定时间后才能发送帧</strong>，这段时间称为帧间间隔IFS（InterFrame Space）</p>
</li>
<li><p>帧间间隔的长短取决于该站点要发送的帧的类型：</p>
<ul>
<li>高优先级帧需要等待的时间较短，因此可优先获得发送权；</li>
<li>优先级帧需要等待的时间较长。若某个站的低优先级帧还没来得及发送，而其他站的高优先级帧已发送到信道上，则信道变为忙态，因而低优先级帧就只能再推迟发送了。这样就减少了发生碰撞的机会。</li>
</ul>
</li>
<li><p>常用的两种帧间间隔如下：</p>
<ul>
<li><strong>短帧间间隔 SIFS</strong>（$28\mathrm{\mu s}$），是最短的帧间间隔，用来分隔开属于一次对话的各帧。一个站点应当能够在这段时间内从发送方式切换到接收方式。使用 SIFS 的帧类型有 ACK 帧、CTS 帧、由过长的 MAC 帧分片后的数据帧、以及所有回答 AP 探询的帧和在 PCF 方式中接入点 AP 发送出的任何帧</li>
<li><strong>DCF 帧间间隔 DIFS</strong>（$128\mathrm{\mu s}$），它比短帧间间隔 SIFS 要长得多，在 DCF 方式中用来发送数据帧和管理帧</li>
</ul>
</li>
</ul>
<p><strong>CSMA&#x2F;CA 协议工作原理：</strong></p>
<p><img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220223164109.png" alt="3.4.3.3"></p>
<ul>
<li>当站点检测到信道是空闲的，并且所发送的数据帧不是成功发送完上一个数据帧之后立即连续发送的数据帧，<br>则不使用退避算法</li>
<li>以下情况必须使用退避算法：<ul>
<li>在发送数据帧之前检测到信道处于忙状态时</li>
<li>每一次重传一个数据帧时</li>
<li>在每一次成功发送后要连续发送下一个帧时（这是为了避免一个站点长时间占用信道）</li>
</ul>
</li>
<li>在执行退避算法时，站点为退避计时器设置一个随机的退避时间：<ul>
<li>当退避计时器的时间减小到零时，就开始发送数据</li>
<li>当退避计时器的时间还未减小到零时而信道又转变为忙状态，这时就冻结退避计时器的数值，重新等待信道变为空闲，再经过时间 DIFS 后，继续启动退避计时器</li>
</ul>
</li>
<li>在进行第$i$次退避时，退避时间在时隙编号${1,2,\cdots, 2^{2+i}-1}$中随机选择一个，然后乘以基本退避时间（也就是一个时隙的长度）就可以得到随机的退避时间。这样做是为了使不同站点选择相同退避时间的概率减少.当时隙编号达到255时（对应于第6次退避）就不再增加了</li>
</ul>
<p><img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220223164319.png" alt="3.4.3.4"></p>
<h4 id="2-对信道进行预约"><a href="#2-对信道进行预约" class="headerlink" title="2. 对信道进行预约"></a>2. 对信道进行预约</h4><ul>
<li>为了<strong>尽可能减少碰撞</strong>的概率和降低碰撞的影响， 802.11 标准允许要发送数据的站点<strong>对信道进行预约</strong><ol>
<li><p>源站在发送数据帧之前先发送一个短的控制帧，称为<strong>请求发送 RTS</strong>（request to send），它包括源地址目的地址以及这次通信（包括相应的确认帧）所需的持续时间</p>
</li>
<li><p>若目的站正确收到源站发来的RTS帧，且媒体空闲，就发送一个响应控制帧，称为<strong>允许发送 CTS</strong>（clear to send），它也包括这次通信所需的持续时间（从 RTS 帧中将此持续时间复制到 CTS 帧中）</p>
</li>
<li><p>源站收到 CTS 帧后，再等待一段时间 SIFS 后，就可发送其数据帧</p>
</li>
<li><p>若目的站正确收到了源站发来的数据帧，在等待时间 SIFS 后，就向源站发送确认帧 ACK</p>
</li>
</ol>
</li>
</ul>
<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220223183406.png" alt="3.4.3.5" style="zoom:33%;" />

<ul>
<li><p>除源站和目的站以外的<strong>其他各站</strong>，<strong>在收到 CTS 帧（或数据帧）后就推迟接入到无线局域网中</strong>。这样就保证了源站和目的站之间的通信不会受到其他站的干扰</p>
</li>
<li><p>如果 RTS 帧发生碰撞，源站就收不到 CTS 帧，需执行退避算法重传 RTS 帧</p>
</li>
<li><p>由于<strong>RTS帧和CTS帧很短，发送碰撞的概率、碰撞产生的开销及本身的开销都很小</strong>。而对于一般的数据帧，其发送时延往往大于传播时延（因为是局域网），碰撞的概率很大，且一旦发生碰撞而导致数据帧重发，则浪费的时间就很多，因此<strong>用很小的代价对信道进行预约往往是值得的</strong>。802.11 标准规定了3种情况供用户选择：</p>
<ul>
<li>使用 RTS 帧和 CTS 帧</li>
<li>不使用 RTS 帧和 CTS 帧</li>
<li>只有当数据帧的长度超过某一数值时才使用 RTS 帧和 CTS 帧</li>
</ul>
</li>
<li><p>除 RTS 帧和 CTS 帧会携带通信需要持续的时间，数据帧也能携带通信需要持续的时间，这称为802.11的<strong>虚拟载波监听机制</strong></p>
</li>
<li><p>由于利用虚拟载波监听机制， <strong>站点只要监听到 RTS 帧、CTS 帧或数据帧中的任何一个，就能知道信道被占用的持续时间</strong>，而不需要真正监听到信道上的信号，因此<strong>虚拟载波监听机制能减少隐蔽站带来的碰撞问题</strong></p>
</li>
</ul>
<p><strong>CSMA&#x2F;CA的基本流程图：</strong></p>
<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220223184008.png" alt="3.4.3.6" style="zoom:45%;" />



<h3 id="9-1-4-802-11-局域网的MAC帧"><a href="#9-1-4-802-11-局域网的MAC帧" class="headerlink" title="9.1.4 802.11 局域网的MAC帧"></a>9.1.4 802.11 局域网的MAC帧</h3>
        </div>

        

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2022/06/06/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E7%BB%AA%E8%AE%BA/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">第一章 绪论</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022/06/06/%E7%AC%AC%E5%85%AD%E7%AB%A0-%E5%BA%94%E7%94%A8%E5%B1%82/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">第六章 应用层</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">拔丝地瓜</a>
        </div>
        
            <script async  src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%92%8C%E7%A7%BB%E5%8A%A8%E7%BD%91%E7%BB%9C"><span class="nav-text">第九章 无线网络和移动网络</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#9-1-%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91WLAN"><span class="nav-text">9.1 无线局域网WLAN</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-1-%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84%E7%BB%84%E6%88%90"><span class="nav-text">9.1.1 无线局域网的组成</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-IEEE-802-11"><span class="nav-text">1. IEEE 802.11</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-2-802-11-%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-text">9.1.2 802.11 局域网的物理层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-3-802-11-%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84MAC%E5%B1%82"><span class="nav-text">9.1.3 802.11 局域网的MAC层</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-CSMA-x2F-CA-%E5%8D%8F%E8%AE%AE"><span class="nav-text">1. CSMA&#x2F;CA 协议</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%AF%B9%E4%BF%A1%E9%81%93%E8%BF%9B%E8%A1%8C%E9%A2%84%E7%BA%A6"><span class="nav-text">2. 对信道进行预约</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-4-802-11-%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84MAC%E5%B8%A7"><span class="nav-text">9.1.4 802.11 局域网的MAC帧</span></a></li></ol></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>



    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-copy.js"></script>





<div class="post-scripts">
    
        
<script src="/js/left-side-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/toc.js"></script>

    
</div>



</body>
</html>
